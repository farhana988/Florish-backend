
model Order {
  id          String       @id @default(uuid())
  
  userId      String
  user        User         @relation(fields: [userId], references: [id])

  cartId      String?
  cart        Cart?        @relation(fields: [cartId], references: [id])

  addressId   String?
  address     Address?     @relation(fields: [addressId], references: [id])

  items       OrderItem[]
  totalPrice  Float
  finalPrice  Float?
  status      OrderStatus  @default(PENDING)

  couponId    String? 
  coupon        Coupon?  @relation(fields: [couponId], references: [id])

  paymentType   PaymentType  @default(COD)
  transactionId String?      
  paymentStatus PaymentStatus @default(PENDING)

  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @updatedAt
}


model OrderItem {
  id        String   @id @default(uuid())
  
  orderId   String
  order     Order    @relation(fields: [orderId], references: [id])

  plantId   String
  plant     Plant    @relation(fields: [plantId], references: [id])

  quantity  Int
  price     Float
}

